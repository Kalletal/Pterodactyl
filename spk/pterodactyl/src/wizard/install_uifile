[
  {
    "step_title": "Configuration du Panel",
    "items": [
      {
        "type": "combobox",
        "desc": "Langue de l'interface du Panel",
        "subitems": [
          {
            "key": "wizard_app_locale",
            "desc": "Langue",
            "defaultValue": "fr",
            "editable": false,
            "data": [
              ["fr", "Français"],
              ["en", "English"]
            ]
          }
        ]
      },
      {
        "desc": "<br><b>Important:</b> Entrez l'adresse IP de votre NAS ou un nom de domaine pointant vers celui-ci.<br><i>Ne laissez pas 'localhost' sauf si vous accédez uniquement depuis ce NAS.</i>"
      },
      {
        "type": "textfield",
        "desc": "Adresse IP du NAS ou nom de domaine (ex: 192.168.1.100 ou nas.mondomaine.fr)",
        "subitems": [
          {
            "key": "wizard_app_host",
            "desc": "Hôte du Panel",
            "defaultValue": "",
            "validator": {
              "allowBlank": false
            }
          }
        ]
      },
      {
        "desc": "<br><b>Port:</b> 38080 (non modifiable, ouvert automatiquement dans le pare-feu DSM)<br><b>URL finale:</b> <code>http://&lt;votre-hôte&gt;:38080</code>"
      }
    ]
  },
  {
    "step_title": "Compte Administrateur",
    "items": [
      {
        "desc": "<b>Créez le compte administrateur initial.</b><br>Ces identifiants vous permettront de vous connecter au Panel."
      },
      {
        "type": "textfield",
        "desc": "Adresse email de l'administrateur",
        "subitems": [
          {
            "key": "wizard_admin_email",
            "desc": "Email admin",
            "defaultValue": "admin@example.com",
            "validator": {
              "allowBlank": false,
              "regex": {
                "expr": "/^[^@]+@[^@]+\\.[^@]+$/",
                "errorText": "Entrez une adresse email valide"
              }
            }
          }
        ]
      },
      {
        "type": "textfield",
        "desc": "Nom d'utilisateur pour la connexion",
        "subitems": [
          {
            "key": "wizard_admin_username",
            "desc": "Nom d'utilisateur",
            "defaultValue": "admin",
            "validator": {
              "allowBlank": false,
              "minLength": 3
            }
          }
        ]
      },
      {
        "type": "password",
        "desc": "Mot de passe administrateur (min. 8 caractères)",
        "subitems": [
          {
            "key": "wizard_admin_password",
            "desc": "Mot de passe admin",
            "defaultValue": "",
            "validator": {
              "allowBlank": false,
              "minLength": 8
            }
          }
        ]
      },
      {
        "desc": "<br><i>Notez ces identifiants ! Vous pourrez modifier le mot de passe depuis le Panel après connexion.</i>"
      }
    ]
  },
  {
    "step_title": "Configuration Base de données",
    "items": [
      {
        "type": "password",
        "desc": "Mot de passe pour l'utilisateur pterodactyl de MariaDB",
        "subitems": [
          {
            "key": "wizard_db_password",
            "desc": "Mot de passe DB",
            "defaultValue": "",
            "validator": {
              "allowBlank": false,
              "minLength": 8,
              "regex": {
                "expr": "/^[^'\"\\\\]+$/",
                "errorText": "Évitez les caractères spéciaux: ' \" \\"
              }
            }
          }
        ]
      },
      {
        "type": "password",
        "desc": "Mot de passe root pour MariaDB",
        "subitems": [
          {
            "key": "wizard_db_root_password",
            "desc": "Mot de passe root DB",
            "defaultValue": "",
            "validator": {
              "allowBlank": false,
              "minLength": 8,
              "regex": {
                "expr": "/^[^'\"\\\\]+$/",
                "errorText": "Évitez les caractères spéciaux: ' \" \\"
              }
            }
          }
        ]
      }
    ]
  },
  {
    "step_title": "Informations importantes",
    "items": [
      {
        "desc": "<b>Prérequis:</b><ul><li><b>Container Manager</b> (Docker) sera installé automatiquement</li></ul><br><b>Services créés:</b><ul><li>MariaDB 10.5 (base de données)</li><li>Redis Alpine (cache)</li><li>Pterodactyl Panel (interface web)</li></ul><br><b>Connexion:</b> Utilisez l'email et le mot de passe configurés à l'étape précédente."
      },
      {
        "desc": "<br><hr><br><b>Configuration de Wings (daemon) :</b><br><br>Après l'installation, suivez ces étapes pour configurer Wings :<ol><li>Connectez-vous au <b>Panel Pterodactyl</b></li><li>Allez dans <code>Admin</code> → <code>Nodes</code> → <code>Create New</code></li><li>Configurez le Node avec le FQDN/IP de votre NAS</li><li>Cliquez sur l'onglet <code>Configuration</code> puis <code>Generate Token</code></li><li>Dans le <b>Menu DSM</b>, cliquez sur <code>Configurer Wings</code></li><li>Collez la configuration YAML générée et enregistrez</li></ol><br><i>Wings permet de gérer les serveurs de jeux sur ce NAS.</i>"
      }
    ]
  }
]
